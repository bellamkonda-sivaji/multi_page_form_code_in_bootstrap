<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <div class="pl-5">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 text-center">
            <div class="d-flex flex-row justify-content-center pt-5">
              <h1 class="text text-danger">
                Already a user please log in here
              </h1>
              <div class="d-flex flex-column justify-content-center">
                <button
                  style="border-radius: 7px; height: 40px"
                  class="btn-primary ml-2 pl-3 pr-3"
                >
                  login
                </button>
              </div>
            </div>
          </div>
          <div class="col-sm-12 mt-3">
            <h2 class="heading text-info pb-3 text-center">Register here</h2>
          </div>
        </div>
      </div>
    </div>
    <div class="pl-5">
      <div class="container">
        <div class="row">
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">NAME:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  placeholder="enter name"
                  id="name"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">GENDER:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  placeholder="enter gender"
                  id="gender"
                  class="input"
                />
              </div>
            </div>
          </div>

          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">AGE:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  placeholder="enter age"
                  id="age"
                  class="input"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">E MAIL ID:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  placeholder="enter email"
                  id="email"
                  class="input"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">ZIP CODE or PINCODE:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  id="pincode"
                  class="input"
                  placeholder="enter pincode"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">STATE:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  id="state"
                  class="input"
                  placeholder="enter state"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">CITY:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  id="city"
                  class="input"
                  placeholder="enter city"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">PASSWORD</label>
                <br />
                <input
                  type="password"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  placeholder="enter password"
                  id="password"
                  class="input"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <div>
                <label class="label text-info">PHONE NUMBER:</label>
                <br />
                <input
                  type="text"
                  style="
                    width: 350px;
                    height: 40px;
                    border-radius: 5px;
                    border-width: 1px;
                    border-color: #cfd1d0;
                  "
                  placeholder="enter no"
                  id="phn"
                  class="input"
                />
              </div>
            </div>
          </div>
          <div class="col-12 mb-3">
            <div class="d-flex flex-row justify-content-center">
              <button
                style="border-radius: 7px"
                class="btn-primary"
                type="submit"
                onclick="getDetails()"
              >
                SUBMIT
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      let pinElement = document.getElementById("pincode");
      let stateElement = document.getElementById("state");
      let cityElement = document.getElementById("city");
      let ageElement = document.getElementById("age");
      let nameElement = document.getElementById("name");
      let genderElement = document.getElementById("gender");
      let emailElement = document.getElementById("email");
      let passElement = document.getElementById("password");
      let phnElement = document.getElementById("phn");

      pinElement.addEventListener("keyup", function () {
        let options = {
          method: "GET",
        };

        let url = "https://api.postalpincode.in/pincode/" + pinElement.value;

        fetch(url, options)
          .then(function (response) {
            return response.json();
          })
          .then(function (jsonData) {
            console.log(jsonData);

            stateElement.value = jsonData[0].PostOffice[0].State;
            cityElement.value = jsonData[0].PostOffice[0].District;
          });
      });

      let data = {
        name: nameElement.value,
        gender: genderElement.value,
        age: ageElement.value,
        emailId: emailElement.value,
        password: passElement.value,
        pincode: pinElement.value,
        state: stateElement.value,
        city: cityElement.value,
        phoneNumber: phnElement.value,
      };

      /*let data=(
              `name:${nameElement.value}`,
              `gender:${genderElement.value}`,
              `age:${ageElement.value}`,
              `emailId:${emailElement.value}`,
              `password:${passElement.value}`,
              `pincode:${pinElement.value}`,
              `state:${stateElement.value}`,
              `city:${cityElement.value}`,
              `phoneNumber:${phnElement.value}`


          )*/

      function getDetails() {
        console.log("hello");
        options = {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            ACCEPT: "application/json",
          },
          body: JSON.stringify(data),
        };
        fetch("http://localhost:3000/user/", options)
          .then(function (response) {
            return response.json();
          })

          .then(function (jsonData) {
            console.log(jsonData);
          });
      }
    </script>
  </body>
</html>
